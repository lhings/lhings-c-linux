<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>lhings-c: abstraction/http-comm/http_api.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="lhings_logo_peque_azul_transp.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">lhings-c
   </div>
   <div id="projectbrief">Lhings C library for Linux</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bdacf7e7d9b2fccc8d2916146d112d0c.html">abstraction</a></li><li class="navelem"><a class="el" href="dir_07e3965543f1d47b918b292c20396a76.html">http-comm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">http_api.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file defines all the functions related to HTTP communication.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &quot;../../core/utils/data_structures.h&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhttp__response.html">http_response</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data type that encapsulates an HTTP response.  <a href="structhttp__response.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac0019ed527401606f0c017eb2c243368"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0019ed527401606f0c017eb2c243368"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PERFORM_GET</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ac0019ed527401606f0c017eb2c243368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d6917028161a64e5714e1ea8b6d8e7a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d6917028161a64e5714e1ea8b6d8e7a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PERFORM_POST</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a3d6917028161a64e5714e1ea8b6d8e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc749fc171bb27ed1e4865d0d73b5e7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc749fc171bb27ed1e4865d0d73b5e7f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PERFORM_PUT</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:adc749fc171bb27ed1e4865d0d73b5e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e6d59009dee759528ec81fc9a8eeff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02e6d59009dee759528ec81fc9a8eeff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HTTP_OK</b>&#160;&#160;&#160;200</td></tr>
<tr class="separator:a02e6d59009dee759528ec81fc9a8eeff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac19a79fb4cf575d20efd0633c1669ed9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac19a79fb4cf575d20efd0633c1669ed9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HTTP_CREATED</b>&#160;&#160;&#160;201</td></tr>
<tr class="separator:ac19a79fb4cf575d20efd0633c1669ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a91e07a302bf8b681281fa5ffb45d8c27"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91e07a302bf8b681281fa5ffb45d8c27"></a>
typedef struct <a class="el" href="structhttp__response.html">http_response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__api_8h.html#a91e07a302bf8b681281fa5ffb45d8c27">LH_HttpResponse</a></td></tr>
<tr class="memdesc:a91e07a302bf8b681281fa5ffb45d8c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data type that encapsulates an HTTP response. <br/></td></tr>
<tr class="separator:a91e07a302bf8b681281fa5ffb45d8c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab3dc570056e618cb15dacbcfbc292033"><td class="memItemLeft" align="right" valign="top"><a class="el" href="http__api_8h.html#a91e07a302bf8b681281fa5ffb45d8c27">LH_HttpResponse</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__api_8h.html#ab3dc570056e618cb15dacbcfbc292033">lh_http_execute_get</a> (const char *url, <a class="el" href="structdictionary.html">LH_Dict</a> *headers)</td></tr>
<tr class="memdesc:ab3dc570056e618cb15dacbcfbc292033"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an HTTP GET request to the given url, sending the given headers to the server.  <a href="#ab3dc570056e618cb15dacbcfbc292033">More...</a><br/></td></tr>
<tr class="separator:ab3dc570056e618cb15dacbcfbc292033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f1dfd1d947f8df223e67e1109907d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="http__api_8h.html#a91e07a302bf8b681281fa5ffb45d8c27">LH_HttpResponse</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__api_8h.html#a57f1dfd1d947f8df223e67e1109907d7">lh_http_execute_post</a> (const char *url, <a class="el" href="structdictionary.html">LH_Dict</a> *headers, const char *post_body)</td></tr>
<tr class="memdesc:a57f1dfd1d947f8df223e67e1109907d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an HTTP POST request to the given url, sending the given headers to the server, and the given request body.  <a href="#a57f1dfd1d947f8df223e67e1109907d7">More...</a><br/></td></tr>
<tr class="separator:a57f1dfd1d947f8df223e67e1109907d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6554b42a665171dc6b5fbc110aa0a6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="http__api_8h.html#a91e07a302bf8b681281fa5ffb45d8c27">LH_HttpResponse</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__api_8h.html#ab6554b42a665171dc6b5fbc110aa0a6b">lh_http_execute_put</a> (const char *url, <a class="el" href="structdictionary.html">LH_Dict</a> *headers, const char *put_body)</td></tr>
<tr class="memdesc:ab6554b42a665171dc6b5fbc110aa0a6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an HTTP PUT request to the given url, sending the given headers to the server, and the given request body.  <a href="#ab6554b42a665171dc6b5fbc110aa0a6b">More...</a><br/></td></tr>
<tr class="separator:ab6554b42a665171dc6b5fbc110aa0a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da9e2ceddf9e3e162a700ec420219eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__api_8h.html#a4da9e2ceddf9e3e162a700ec420219eb">lh_http_free</a> (<a class="el" href="http__api_8h.html#a91e07a302bf8b681281fa5ffb45d8c27">LH_HttpResponse</a> *response)</td></tr>
<tr class="memdesc:a4da9e2ceddf9e3e162a700ec420219eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to free the memory allocated for LH_HttpResponse* by any of the <code>lh_http_execute_*</code> functions.  <a href="#a4da9e2ceddf9e3e162a700ec420219eb">More...</a><br/></td></tr>
<tr class="separator:a4da9e2ceddf9e3e162a700ec420219eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file defines all the functions related to HTTP communication. </p>
<p>The HTTP API defines a set of generic functions used by the Lhings C library to perform all kind of HTTP request.</p>
<p>All the functions in this header file belong to the abstraction API of the library and need to be reimplemented when changing platform. The documentation of each function contains all the information about its expected behaviour. This information must be carefully followed when porting the library to other platforms. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab3dc570056e618cb15dacbcfbc292033"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http__api_8h.html#a91e07a302bf8b681281fa5ffb45d8c27">LH_HttpResponse</a>* lh_http_execute_get </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdictionary.html">LH_Dict</a> *&#160;</td>
          <td class="paramname"><em>headers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs an HTTP GET request to the given url, sending the given headers to the server. </p>
<p>Stores the HTTP code of the response and the response body in a struct LH_HttpResponse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url of the request. </td></tr>
    <tr><td class="paramname">headers</td><td>An LH_Dict containing the key value pairs of the headers (for instance key "Content-type", value "application/json"). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to LH_HttpResponse containing the HTTP code and body of the response. </dd></dl>

</div>
</div>
<a class="anchor" id="a57f1dfd1d947f8df223e67e1109907d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http__api_8h.html#a91e07a302bf8b681281fa5ffb45d8c27">LH_HttpResponse</a>* lh_http_execute_post </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdictionary.html">LH_Dict</a> *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>post_body</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs an HTTP POST request to the given url, sending the given headers to the server, and the given request body. </p>
<p>Stores the HTTP code of the response and the response body in a struct LH_HttpResponse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url of the request. </td></tr>
    <tr><td class="paramname">headers</td><td>An LH_Dict containing the key value pairs of the headers (for instance key "Content-type", value "application/json"). </td></tr>
    <tr><td class="paramname">post_body</td><td>A string containing the request body. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to LH_HttpResponse containing the HTTP code and body of the response. </dd></dl>

</div>
</div>
<a class="anchor" id="ab6554b42a665171dc6b5fbc110aa0a6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http__api_8h.html#a91e07a302bf8b681281fa5ffb45d8c27">LH_HttpResponse</a>* lh_http_execute_put </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdictionary.html">LH_Dict</a> *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>put_body</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs an HTTP PUT request to the given url, sending the given headers to the server, and the given request body. </p>
<p>Stores the HTTP code of the response and the response body in a struct LH_HttpResponse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url of the request. </td></tr>
    <tr><td class="paramname">headers</td><td>An LH_Dict containing the key value pairs of the headers (for instance key "Content-type", value "application/json"). </td></tr>
    <tr><td class="paramname">post_body</td><td>A string containing the request body. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to LH_HttpResponse containing the HTTP code and body of the response. </dd></dl>

</div>
</div>
<a class="anchor" id="a4da9e2ceddf9e3e162a700ec420219eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lh_http_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="http__api_8h.html#a91e07a302bf8b681281fa5ffb45d8c27">LH_HttpResponse</a> *&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used to free the memory allocated for LH_HttpResponse* by any of the <code>lh_http_execute_*</code> functions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 9 2015 11:24:02 for lhings-c by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
